<html>
<head>
	<script>
		// Internal javascript
	</script>
	<style>
		div {
			border: 1px #000 solid;
		}

		body {
		    background-color: linen;
		}

		h1 {
		    color: maroon;
		    margin-left: 40px;
		} 

		.round {
		    border-radius: 15px;
		    border: 1px #000 solid;
		    padding: 5px 5px 5px 25px;
		}
		.center_it{
			position:relative;
			left:50%;
			transform: translateX(-50%);
			-webkit-transform: translateX(-50%);
			text-align:center;
		}
		.search_n_results{
			position:relative;
			width:60%;
			float: left;
			display:inline-block;
			height: 100%;
		}
		.search_bar {
			width: 60%;
			margin: 2rem 0rem;
		}
		.query_modifiers{
			position:relative;
			width:39%;
			height: 100%;
			display:inline-block;
		}
		.categories{
			position: relative;
			width: 20%;
			display:inline-block;
			height: 100%;

		}
		.categories_list{
			border: 1px solid black;
			position: absolute;
			right:0;
			top: 5rem;
		}
		td {
			border: 1px solid black;	
		}
		.selection_window{
			width:77%;
			position: relative;
			display:inline-block;
			height: 100%;
		}
		#selection_list{
			position: absolute;
			width: 100%;
			left: 0;
		}
		.container{
			height: 100%;
		}
		#red{
			border-color: red;
		}

	</style>
	
</head>
<body>
	<div  class="container">
		<div  class="search_n_results"> 
			<!-- Search Bar -->
			<div>
				 <input id="searchbar" type="text" name="search_bar" class="round search_bar center_it" /><button style="margin: 0 0 0 10rem;" onclick="window.location.href ='index.html&returnedFromCustom=true'">Search</button>
			</div>
			<!-- Results List-->
			<div>
			</div>
		</div>
		<div id="red" class="query_modifiers">
			<!-- Query Modifier Tabs -->
			<div class="categories">
				<table class="categories_list">
					<tr><td id="Domain"  >Domain   </td></tr>
					<tr><td id="Category">Category </td></tr>
					<tr><td id="ToolLang">Tool/Lang</td></tr>
					<tr><td id="Platform">Platform </td></tr>
				</table>
			</div >
			<!-- Selection Window -->
			<div class="selection_window">
				<table id="selection_list" style="visibility:hidden;">
					<tr><td class="trs">Domain</td> </tr>
					<tr><td class="trs">Category</td> </tr>
					<tr><td class="trs">Tool/Lang</td> </tr>
					<tr><td class="trs">Platform</td> </tr>
				</table>
			</div>
		</div>
	</div>
	<script>
		number_of_hits=0;
		current_tab = null;
		results_rows = document.getElementsByClassName("trs");

		categories = [
			["The Royal Institute","SIGOP","IEEE","ACM"],
			["Machine Learning","Programming Languages","Game Theoretic Algorithms","Distributed Systems"],
			["C++","TensorFlow","Fortran","Haskell"],
			["Mac","Linux","Windows","Sun"]
		];

		document.getElementById("Domain").addEventListener("click", function(){ handleClick("Domain",0);
		});
		document.getElementById("Category").addEventListener("click", function(){
			handleClick("Category",1);
		});
		document.getElementById("ToolLang").addEventListener("click", function(){
			handleClick("ToolLang",2);
		});
		document.getElementById("Platform").addEventListener("click", function(){
			handleClick("Platform",3)
		});

		function handleClick(tab, rownum){
			document.getElementById("selection_list").style.visibility="visible";
			if(current_tab){
				current_tab.style.backgroundColor = "linen";
			}
			current_tab = document.getElementById(tab);
			current_tab.style.backgroundColor="blue";
			fillinTable(rownum);
		}

		function update(){
			var searchbar = document.getElementById("searchbar");
			thing_im_looking_for = searchbar.value;
			document.getElementById("selection_list").style.visibility="visible";
			results_rows[0].innerHTML = thing_im_looking_for;
			for(var i=1; i<results_rows.length; i++){
				results_rows[i].style.visibility="hidden";
			}
			searchbar.value = "";
		}

		function fillinTable(rownum){
			for(let i=0; i<results_rows.length; i++){
				results_rows[i].style.visibility="visible";
				results_rows[i].style.backgroundColor="linen";
				results_rows[i].innerHTML=categories[rownum][i];
			}
		} 

		document.getElementById('searchbar').onkeypress = function(e){
		    if (!e) e = window.event;
		    var keyCode = e.keyCode || e.which;
		    if (keyCode == '13'){
		      	update();
		        return false;
		    }
		}

		for(var i=0; i<results_rows.length; i++){
			results_rows[i].addEventListener("click", function(){
				this.style.backgroundColor="blue";
			});
		}

	</script>
</body>
</html>