(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{142:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n(35),r=n.n(i),a=n(18),s=n(19),l=n(20),c=n(27),u=n(26),p=n(5),h=n(87),d=n(148),f=n(70),g=n.n(f),m=n(9),j=n.n(m),b=n(6),v=n(46),F=b.a.create({video_player:{width:300,height:300},controlBar:{position:"absolute",bottom:0,left:0,right:0,top:10,height:"100%",flexDirection:"row",alignItems:"stretch",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},container:{flex:1,backgroundColor:"#F5FCFF"},centered_container:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center"},double_container:{flex:2},image_style:{flex:1},fields_style:{alignItems:"flex-start",flex:2,width:"70%",paddingLeft:"15%"},flex1:{flex:1},flex2:{flex:2},tab_bar_style:{height:20,width:"100%"},welcome:{fontSize:20,textAlign:"center",margin:10},instructions:{textAlign:"center",color:"#333333",marginBottom:5},contentContainer:{paddingVertical:20},borderSeparator:{height:4,width:"100%",backgroundColor:"#909090"},canvas:{position:"absolute",top:0,left:0,bottom:0,right:0},border:{borderWidth:1,borderColor:"#d6d7da",position:"absolute",backgroundColor:"green",height:v.a.get("window").height,width:20},holeStyle:{backgroundColor:"white",width:50,height:150,position:"absolute"}}),x=n(61),w=n.n(x),A=n(71),y=function(){function e(){Object(s.a)(this,e),this.audio=null,this.interval=null,this.action=null,this.analyser=null,this.dataArray=null}return Object(l.a)(e,[{key:"start",value:function(){var e=Object(A.a)(w.a.mark((function e(t){var n,o=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({sampleRate:1e4,audio:!0,video:!1});case 2:this.audio=e.sent,n=new(window.AudioContext||window.webkitAudioContext),this.analyser=n.createAnalyser(),this.analyser.fftSize=4096,this.dataArray=new Float32Array(this.analyser.frequencyBinCount),n.createMediaStreamSource(this.audio).connect(this.analyser),this.interval=setInterval((function(){if(o.action){o.analyser.getFloatTimeDomainData(o.dataArray);var e=o.autoCorrelate(o.dataArray,n.sampleRate);console.log(e);var t=o.getNote(e);null!=t&&o.action(t)}}),t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){console.log("Stopping recording"),console.log(this.listener),clearInterval(this.interval),this.audio.getTracks().forEach((function(e){return e.stop()}))}},{key:"getNote",value:function(e){return e>3e3||e<100?"none":e<200?"down":e<400?"up":e<1400?"special2":e<1600?"special":e<1800?"left":e<2500?"right":"none"}},{key:"autoCorrelate",value:function(e,t){for(var n=e.length,o=0,i=0;i<n;i++)o+=e[i]*e[i];if((o=Math.sqrt(o/n))<.01)return-1;for(var r=0,a=n-1,s=0;s<n/2;s++)if(Math.abs(e[s])<.2){r=s;break}for(var l=1;l<n/2;l++)if(Math.abs(e[n-l])<.2){a=n-l;break}n=(e=e.slice(r,a)).length;for(var c=new Array(n).fill(0),u=0;u<n;u++)for(var p=0;p<n-u;p++)c[u]=c[u]+e[p]*e[p+u];for(var h=0;c[h]>c[h+1];)h++;for(var d=-1,f=-1,g=h;g<n;g++)c[g]>d&&(d=c[g],f=g);var m=f,j=c[m-1],b=c[m],v=c[m+1],F=(j+v-2*b)/2;return F&&(m-=(v-j)/2/(2*F)),t/m}}]),e}(),k=n.p+"static/media/AlPachino.6175905b.mp4",O=n(1),D=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={mute:!1,paused:!1,result:"none"},o.old_note="none",o._mountVideo=function(e){o._video=e},o.time=0,o.seekable=0,o.goto_beginning=!1,o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initializeFreqFinder()}},{key:"componentWillUnmount",value:function(){console.log("unmounting"),j.a.freqfinder.stop()}},{key:"initializeFreqFinder",value:function(){var e=this;j.a.freqfinder=new y,j.a.freqfinder.action=function(t){var n=e.state;"special"===e.old_note&&"none"===t&&(e.goto_beginning&&(e._video.seekTo(0),e.goto_beginning=!1),n.paused=!n.paused),"left"===e.old_note&&"none"===t&&e.seek(-1),"right"===e.old_note&&"none"===t&&e.seek(1),e.old_note=t,n.result=t,e.setState(n)},j.a.freqfinder.start(500)}},{key:"seek",value:function(e){var t=this.time;t=(t=(t-=e)>0?t:0)>this.seekable?this.seekable-.1:t,this._video.seekTo(t)}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(p.a,{style:F.container,children:[Object(O.jsx)(h.a,{children:this.state.result}),Object(O.jsx)(g.a,{ref:this._mountVideo,url:k,playing:this.state.paused,onClick:function(){e.goto_beginning&&(e._video.seekTo(0),e.goto_beginning=!1);var t=e.state;console.log(t),t.paused=!t.paused,e.setState(t)},onProgress:function(){e.time=e._video.getCurrentTime(),console.log(e.time),e.seekable=e._video.getDuration()},onEnded:function(){var t=e.state;t.paused=!0,e.goto_beginning=!0,e.setState(t)},muted:this.state.mute,style:{flex:1,width:"auto",position:"relative",margin:"auto"}}),Object(O.jsx)(p.a,{style:F.container,children:Object(O.jsxs)(p.a,{style:F.controlBar,children:[Object(O.jsx)(d.a,{style:{flex:1,alignItems:"center",flexDirection:"column"},onPress:function(){e.seek(-1)},children:Object(O.jsx)(p.a,{style:{flex:1,alignItems:"center",flexDirection:"row"},children:Object(O.jsx)("svg",{style:{transform:"rotate(180deg)"},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M14 12l-14 9v-18l14 9zm-4-9v4l8.022 5-8.022 5v4l14-9-14-9z"})})})})}),Object(O.jsx)(d.a,{style:{flex:1,alignItems:"center",flexDirection:"column"},onPress:function(){e.seek(1)},children:Object(O.jsx)(p.a,{style:{flex:1,alignItems:"center",flexDirection:"row"},children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M14 12l-14 9v-18l14 9zm-4-9v4l8.022 5-8.022 5v4l14-9-14-9z"})})})})]})})]})}}]),n}(o.Component),_=n(144),R=n(147),L=n(95),U=n(145),C=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={result:"none",messages:[[1,"message 1"],[0,"message 2"]],text_input_value:"",position:2,treeTextArray:[],treePosition:3,treeModalVisible:!1},o.old_note="none",o.received_message=!0,o.holding_message=!1,o.touchAssistTree=[{name:"don't do anything",fun:o.doNothing},{name:"option L",fun:function(){return o.callFunctionFor("option L")}},{name:"option U",fun:function(){return o.callFunctionFor("option U")}},{name:"option D",fun:function(){return o.callFunctionFor("option D")}},{name:"option R",fun:function(){return o.callFunctionFor("option R")}},{name:"option LL",fun:function(){return o.callFunctionFor("option LL")}},{name:"option LU",fun:function(){return o.callFunctionFor("option LU")}},{name:"option LD",fun:function(){return o.callFunctionFor("option LD")}},{name:"option LR",fun:function(){return o.callFunctionFor("option LR")}},{name:"option UL",fun:function(){return o.callFunctionFor("option UL")}},{name:"option UU",fun:function(){return o.callFunctionFor("option UU")}},{name:"option UD",fun:function(){return o.callFunctionFor("option UD")}},{name:"option UR",fun:function(){return o.callFunctionFor("option UR")}},{name:"option DL",fun:function(){return o.callFunctionFor("option DL")}},{name:"option DU",fun:function(){return o.callFunctionFor("option DU")}},{name:"option DD",fun:function(){return o.callFunctionFor("option DD")}},{name:"option DR",fun:function(){return o.callFunctionFor("option DR")}},{name:"option RL",fun:function(){return o.callFunctionFor("option RL")}},{name:"option RU",fun:function(){return o.callFunctionFor("option RU")}},{name:"option RD",fun:function(){return o.callFunctionFor("option RD")}},{name:"option RR",fun:function(){return o.callFunctionFor("option RR")}},{name:"option LLL",fun:function(){return o.callFunctionFor("option LLL")}},{name:"option LLU",fun:function(){return o.callFunctionFor("option LLU")}},{name:"option LLD",fun:function(){return o.callFunctionFor("option LLD")}},{name:"option LLR",fun:function(){return o.callFunctionFor("option LLR")}},{name:"option LUL",fun:function(){return o.callFunctionFor("option LUL")}},{name:"option LUU",fun:function(){return o.callFunctionFor("option LUU")}},{name:"option LUD",fun:function(){return o.callFunctionFor("option LUD")}},{name:"option LUR",fun:function(){return o.callFunctionFor("option LUR")}},{name:"option LDL",fun:function(){return o.callFunctionFor("option LDL")}},{name:"option LDU",fun:function(){return o.callFunctionFor("option LDU")}},{name:"option LDD",fun:function(){return o.callFunctionFor("option LDD")}},{name:"option LDR",fun:function(){return o.callFunctionFor("option LDR")}},{name:"option LRL",fun:function(){return o.callFunctionFor("option LRL")}},{name:"option LRU",fun:function(){return o.callFunctionFor("option LRU")}},{name:"option LRD",fun:function(){return o.callFunctionFor("option LRD")}},{name:"option LRR",fun:function(){return o.callFunctionFor("option LRR")}},{name:"option ULL",fun:function(){return o.callFunctionFor("option ULU")}},{name:"option ULU",fun:function(){return o.callFunctionFor("option ULU")}},{name:"option ULD",fun:function(){return o.callFunctionFor("option ULD")}},{name:"option ULR",fun:function(){return o.callFunctionFor("option ULR")}},{name:"option UUL",fun:function(){return o.callFunctionFor("option UUL")}},{name:"option UUU",fun:function(){return o.callFunctionFor("option UUU")}},{name:"option UUD",fun:function(){return o.callFunctionFor("option UUD")}},{name:"option UUR",fun:function(){return o.callFunctionFor("option UUR")}},{name:"option UDL",fun:function(){return o.callFunctionFor("option UDL")}},{name:"option UDU",fun:function(){return o.callFunctionFor("option UDU")}},{name:"option UDD",fun:function(){return o.callFunctionFor("option UDD")}},{name:"option UDR",fun:function(){return o.callFunctionFor("option UDR")}},{name:"option URL",fun:function(){return o.callFunctionFor("option URL")}},{name:"option URU",fun:function(){return o.callFunctionFor("option URU")}},{name:"option URD",fun:function(){return o.callFunctionFor("option URD")}},{name:"option URR",fun:function(){return o.callFunctionFor("option URR")}},{name:"option DLL",fun:function(){return o.callFunctionFor("option DLU")}},{name:"option DLU",fun:function(){return o.callFunctionFor("option DLU")}},{name:"option DLD",fun:function(){return o.callFunctionFor("option DLD")}},{name:"option DLR",fun:function(){return o.callFunctionFor("option DLR")}},{name:"option DUL",fun:function(){return o.callFunctionFor("option DUL")}},{name:"option DUU",fun:function(){return o.callFunctionFor("option DUU")}},{name:"option DUD",fun:function(){return o.callFunctionFor("option DUD")}},{name:"option DUR",fun:function(){return o.callFunctionFor("option DUR")}},{name:"option DDL",fun:function(){return o.callFunctionFor("option DDL")}},{name:"option DDU",fun:function(){return o.callFunctionFor("option DDU")}},{name:"option DDD",fun:function(){return o.callFunctionFor("option DDD")}},{name:"option DDR",fun:function(){return o.callFunctionFor("option DDR")}},{name:"option DRL",fun:function(){return o.callFunctionFor("option DRL")}},{name:"option DRU",fun:function(){return o.callFunctionFor("option DRU")}},{name:"option DRD",fun:function(){return o.callFunctionFor("option DRD")}},{name:"option DRR",fun:function(){return o.callFunctionFor("option DRR")}},{name:"option RLL",fun:function(){return o.callFunctionFor("option RLU")}},{name:"option RLU",fun:function(){return o.callFunctionFor("option RLU")}},{name:"option RLD",fun:function(){return o.callFunctionFor("option RLD")}},{name:"option RLR",fun:function(){return o.callFunctionFor("option RLR")}},{name:"option RUL",fun:function(){return o.callFunctionFor("option RUL")}},{name:"option RUU",fun:function(){return o.callFunctionFor("option RUU")}},{name:"option RUD",fun:function(){return o.callFunctionFor("option RUD")}},{name:"option RUR",fun:function(){return o.callFunctionFor("option RUR")}},{name:"option RDL",fun:function(){return o.callFunctionFor("option RDL")}},{name:"option RDU",fun:function(){return o.callFunctionFor("option RDU")}},{name:"option RDD",fun:function(){return o.callFunctionFor("option RDD")}},{name:"option RDR",fun:function(){return o.callFunctionFor("option RDR")}},{name:"option RRL",fun:function(){return o.callFunctionFor("option RRL")}},{name:"option RRU",fun:function(){return o.callFunctionFor("option RRU")}},{name:"option RRD",fun:function(){return o.callFunctionFor("option RRD")}},{name:"option RRR",fun:function(){return o.callFunctionFor("option RRR")}}],o}return Object(l.a)(n,[{key:"callFunctionFor",value:function(e){console.log(e)}},{key:"doNothing",value:function(){}},{key:"componentDidMount",value:function(){console.log(this.props),this.initializeFreqFinder()}},{key:"componentWillUnmount",value:function(){console.log("unmounting"),j.a.freqfinder.stop()}},{key:"initializeFreqFinder",value:function(){j.a.freqfinder=new y,this.setControlsScheme(this.normalOperation),j.a.freqfinder.start(150)}},{key:"setControlsScheme",value:function(e){var t=this;j.a.freqfinder.action=function(n){if(n!==t.old_note){var o=t.state;"none"===n&&e.bind(t)(),t.old_note=n,o.result=n,t.setState(o)}}}},{key:"normalOperation",value:function(){var e=this,t=this.state;if("special"===this.old_note&&!1===this.holding_message){j.a.freqfinder.stop();var n=new(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition);n.lang="en-US",n.interimResults=!1,n.continuous=!1,n.onresult=function(t){e.received_message=!0;var n=t.results[0][0].transcript,o=e.state;o.text_input_value=n,e.setState(o),e.initializeFreqFinder()},n.start(),this.received_message=!1,this.holding_message=!0}else if("special"===this.old_note&&!0===this.holding_message)this.post_message(this.state.text_input_value),this.holding_message=!1;else if("down"===this.old_note)t.position=this.state.position+1>this.state.messages.length?this.state.messages.length:this.state.position+1;else if("up"===this.old_note)t.position=this.state.position-1<0?0:this.state.position-1;else if("special2"===this.old_note)t.treePosition=0,t.treeTextArray=["left","up","down","right"],t.treeTextArray=t.treeTextArray.concat(this.getTwoGenerations(t.treePosition)),t.treeModalVisible=!0,this.setControlsScheme(this.touchAssistTreeControls);else if(t.position!==t.messages.length)if("left"===this.old_note){for(var o=t.messages.length-1;o!==t.position;o--)t.messages[o][0]-=1;t.messages.splice(t.messages.length-1-t.position,1),t.position-=1}else"right"===this.old_note&&(t.text_input_value=t.messages[t.position][1])}},{key:"getTwoGenerations",value:function(e){var t=[],n=4*e+1,o=4*n+1,i=this.touchAssistTree;if(n<i.length){var r=i.length<n+4?i.length:n+4,a=i.slice(n,r);o<i.length&&(r=i.length<o+16?i.length:o+16,a=a.concat(i.slice(o,r))),t=a.map((function(e){return e.name}))}return 20-t.length>0&&(t=t.concat(Array(20-t.length).fill(""))),t}},{key:"touchAssistTreeControls",value:function(){var e=this.state;if("special"===this.old_note)return this.touchAssistTree[e.treePosition].fun(),e.treeModalVisible=!1,void this.setControlsScheme(this.normalOperation);if("special2"!==this.old_note){if(e.treePosition*=4,"left"===this.old_note?e.treePosition+=1:"up"===this.old_note?e.treePosition+=2:"down"===this.old_note?e.treePosition+=3:"right"===this.old_note&&(e.treePosition+=4),e.treePosition>=this.touchAssistTree.length)return e.treeModalVisible=!1,void this.setControlsScheme(this.normalOperation);e.treeTextArray=e.treeTextArray.slice(0,-16),e.treeTextArray=e.treeTextArray.concat(this.getTwoGenerations(e.treePosition))}}},{key:"post_message",value:function(e){var t=this.state;0===t.position&&(t.position+=1),t.messages.unshift([t.messages.length,e]),t.text_input_value="",this.setState(t)}},{key:"createTable",value:function(){for(var e=[],t=this.state.treeTextArray,n=["powderblue","skyblue"],o=1,i=0,r=0;r<t.length-24;r+=4)i=1-(o=Math.abs(r/4%2)),e.push(Object(O.jsxs)(p.a,{style:{height:50,flexDirection:"row"},children:[Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:n[o]},children:Object(O.jsx)(h.a,{children:t[r]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:n[i]},children:Object(O.jsx)(h.a,{children:t[r+1]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:n[o]},children:Object(O.jsx)(h.a,{children:t[r+2]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:n[i]},children:Object(O.jsx)(h.a,{children:t[r+3]})})]},r));if(r<t.length-20){var a=[n[o=Math.abs(r/4%2)],n[i=1-o],n[o],n[i]];0!==this.state.treePosition&&(a[(this.state.treePosition-1)%4]="red"),e.push(Object(O.jsxs)(p.a,{style:{height:50,flexDirection:"row"},children:[Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:a[0]},children:Object(O.jsx)(h.a,{children:t[r]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:a[1]},children:Object(O.jsx)(h.a,{children:t[r+1]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:a[2]},children:Object(O.jsx)(h.a,{children:t[r+2]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:a[3]},children:Object(O.jsx)(h.a,{children:t[r+3]})})]},r)),r+=4}for(;r<t.length&&""!==t[r];r+=4)i=1-(o=Math.abs(r/4%2)),e.push(Object(O.jsxs)(p.a,{style:{height:50,flexDirection:"row"},children:[Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:n[o]},children:Object(O.jsx)(h.a,{children:t[r]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:n[i]},children:Object(O.jsx)(h.a,{children:t[r+1]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:n[o]},children:Object(O.jsx)(h.a,{children:t[r+2]})}),Object(O.jsx)(p.a,{style:{flex:1,backgroundColor:n[i]},children:Object(O.jsx)(h.a,{children:t[r+3]})})]},r));return Object(O.jsxs)(p.a,{children:[Object(O.jsx)(h.a,{children:this.state.result}),e]})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(_.a,{style:{flex:1},behavior:"padding",children:[Object(O.jsx)(R.a,{transparent:!0,visible:this.state.treeModalVisible,children:this.createTable()}),Object(O.jsx)(h.a,{}),Object(O.jsx)(h.a,{children:this.state.result}),Object(O.jsx)(p.a,{style:{flex:1},children:Object(O.jsx)(L.a,{inverted:!0,style:{height:v.a.get("window").height*(2/3)},data:this.state.messages,keyExtractor:function(e){return e[0].toString()},renderItem:function(t){var n=t.item;return Object(O.jsxs)(p.a,{children:[Object(O.jsx)(h.a,{}),Object(O.jsx)(h.a,{style:n[0]===e.state.position?F.border:{},children:n[1]}),Object(O.jsx)(h.a,{})]})},ItemSeparatorComponent:function(){return Object(O.jsx)(p.a,{style:F.borderSeparator})},alwaysBounceVertical:!0})}),Object(O.jsx)(U.a,{autoFocus:!1,placeholder:"message",keyboardType:"default",returnKeyType:"done",style:{height:40,borderColor:"gray",borderWidth:1,textAlign:"center"},onSubmitEditing:function(t){var n=t.nativeEvent.text;e.post_message(n)},onChangeText:function(t){var n=e.state;n.text_input_value=t,e.setState(n)},value:this.state.text_input_value})]})}}]),n}(o.Component),S=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).old_note="none",o.clock=null,o.clock_going=!1,o.grid_width=9,o.grid_height=15,o.state={result:"none",snakeLocations:[[4,7]],appleLocation:o.pickNewAppleLocation([[4,7]]),snakeDirection:"down",messageModalVisible:!1,gameMessage:"YOU!"},o.tile_width=v.a.get("window").width/o.grid_width,o.tile_height=(v.a.get("window").height-66)/o.grid_height,o}return Object(l.a)(n,[{key:"startClock",value:function(){this.clock=setInterval(this.moveSnake.bind(this),1e3),this.clock_going=!0}},{key:"stopClock",value:function(){clearInterval(this.clock),this.clock_going=!1}},{key:"componentDidMount",value:function(){this.initializeFreqFinder()}},{key:"componentWillUnmount",value:function(){console.log("unmounting"),j.a.freqfinder.stop()}},{key:"initializeFreqFinder",value:function(){j.a.freqfinder=new y,this.setControlsScheme(this.normalOperation),j.a.freqfinder.start()}},{key:"setControlsScheme",value:function(e){var t=this;j.a.freqfinder.action=function(n){if(n!==t.old_note){var o=t.state;"none"===n&&e.bind(t)(o),t.old_note=n,o.result=n,t.setState(o)}}}},{key:"normalOperation",value:function(e){if("special"===this.old_note){if(e.messageModalVisible)return e.messageModalVisible=!1,e.snakeLocations=[[4,7]],e.appleLocation=this.pickNewAppleLocation([[4,7]]),void this.stopClock();"right"!==e.snakeDirection&&(e.snakeDirection="left")}else if("special2"===this.old_note){if(e.messageModalVisible)return e.messageModalVisible=!1,e.snakeLocations=[[4,7]],e.appleLocation=this.pickNewAppleLocation([[4,7]]),void this.stopClock();"right"!==e.snakeDirection&&(e.snakeDirection="left")}else"up"===this.old_note&&"down"!==e.snakeDirection?e.snakeDirection="up":"down"===this.old_note&&"up"!==e.snakeDirection?e.snakeDirection="down":"left"===this.old_note&&"right"!==e.snakeDirection?e.snakeDirection="left":"right"===this.old_note&&"left"!==e.snakeDirection&&(e.snakeDirection="right");!1===this.clock_going&&this.startClock()}},{key:"compareLocations",value:function(e,t){return e[0]===t[0]&&e[1]===t[1]}},{key:"pickNewAppleLocation",value:function(e){var t=this,n=Array(this.grid_width).fill().map((function(){return Array(t.grid_height).fill(!0)}));e.forEach((function(e){n[e[0]][e[1]]=!1}));for(var o=[],i=0;i<this.grid_width;i++)for(var r=0;r<this.grid_height;r++)n[i][r]&&o.push([i,r]);return o[Math.floor(Math.random()*o.length)]}},{key:"endGame",value:function(e){var t=this.state;t.gameMessage=e,t.messageModalVisible=!0,this.setState(t)}},{key:"moveSnake",value:function(){var e=this.state,t=this.state.snakeDirection,n=[0,0];"up"===t?n=[0,-1]:"down"===t?n=[0,1]:"left"===t?n=[-1,0]:"right"===t&&(n=[1,0]),console.log(n);var o=this.state.snakeLocations[0],i=this.state.snakeLocations,r=[o[0]+n[0],o[1]+n[1]],a=this.state.appleLocation;if(console.log(r),r[0]<0||r[0]>=this.grid_width||r[1]<0||r[1]>=this.grid_height)this.endGame("YOU LOSE!");else{for(var s=0;s<i.length;s++)if(this.compareLocations(r,i[s]))return void this.endGame("YOU LOSE!");if(this.compareLocations(r,a)){if(i.length===this.grid_width*this.grid_height-1)return void this.endGame("YOU WIN!");i.unshift(r),e.snakeLocations=i,e.appleLocation=this.pickNewAppleLocation(i)}else console.log(i),i.pop(),i.unshift(r),console.log(i),e.snakeLocations=i;this.setState(e)}}},{key:"render",value:function(){var e=this,t=["powderblue","skyblue"],n=[],o=Array(this.grid_width).fill().map((function(){return Array(e.grid_height).fill(0)}));this.state.snakeLocations.forEach((function(e){o[e[0]][e[1]]=1})),o[this.state.appleLocation[0]][this.state.appleLocation[1]]=2;for(var i=0;i<this.grid_width;i++){for(var r=[],a=0;a<this.grid_height;a++){var s=t[(i+a)%2];1===o[i][a]&&(s="red"),2===o[i][a]&&(s="green"),r.push(Object(O.jsx)(p.a,{style:{width:this.tile_width,height:this.tile_height,backgroundColor:s}},(i*this.grid_width+a).toString()))}n.push(Object(O.jsx)(p.a,{children:r},(i+100).toString()))}return Object(O.jsxs)(p.a,{style:{flex:1},children:[Object(O.jsx)(h.a,{children:this.state.result}),Object(O.jsx)(p.a,{style:{flex:1,flexDirection:"row"},children:n}),Object(O.jsx)(R.a,{animationType:"slide",transparent:!1,visible:this.state.messageModalVisible,children:Object(O.jsx)(p.a,{style:{flex:1,justifyContent:"center"},children:Object(O.jsx)(p.a,{style:{flexDirection:"row",justifyContent:"center"},onClick:function(){var t=e.state;t.messageModalVisible=!1,t.snakeLocations=[[4,7]],t.appleLocation=e.pickNewAppleLocation([[4,7]]),e.stopClock(),e.setState(t)},children:Object(O.jsx)(h.a,{children:this.state.gameMessage})})})})]})}}]),n}(o.Component),T=n(146),H=n(65),B=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var o;Object(s.a)(this,n),(o=t.call(this,e)).birdRef=null,o.setBirdRef=function(e){o.birdRef=e},o.old_note="nonee",o.started=!1,o.screen_width=v.a.get("window").width,console.log(o.screen_width),o.screen_height=v.a.get("window").height-66,console.log(o.screen_height);var i=15;return o.state={result:"none",bird:new T.a.ValueXY({y:o.screen_height/2,x:o.screen_width/4}),pipe1:new T.a.ValueXY({y:0,x:o.screen_width+20}),pipe2:new T.a.ValueXY({y:0,x:o.screen_width+20}),pipe3:new T.a.ValueXY({y:0,x:o.screen_width+20}),pipeHole1:new T.a.ValueXY({y:o.screen_height-280,x:o.screen_width+i}),pipeHole2:new T.a.ValueXY({y:o.screen_height-320,x:o.screen_width+i}),pipeHole3:new T.a.ValueXY({y:o.screen_height-180,x:o.screen_width+i}),pipeHole4:new T.a.ValueXY({y:o.screen_height-250,x:o.screen_width+i}),pipeHole5:new T.a.ValueXY({y:o.screen_height-150,x:o.screen_width+i}),pipeHole6:new T.a.ValueXY({y:o.screen_height-300,x:o.screen_width+i}),pipeHole7:new T.a.ValueXY({y:o.screen_height-320,x:o.screen_width+i}),pipeHole8:new T.a.ValueXY({y:o.screen_height-240,x:o.screen_width+i}),pipeHole9:new T.a.ValueXY({y:o.screen_height-240,x:o.screen_width+i}),pipeHole10:new T.a.ValueXY({y:o.screen_height-180,x:o.screen_width+i}),pipeHole11:new T.a.ValueXY({y:o.screen_height-210,x:o.screen_width+i}),pipeHole12:new T.a.ValueXY({y:o.screen_height-260,x:o.screen_width+i})},o.slideForward1=o.slideAcrossScreen(o.state.pipe1),o.slideForward2=o.slideAcrossScreen(o.state.pipe2),o.slideForward3=o.slideAcrossScreen(o.state.pipe3),o.slideForward4=o.slideAcrossScreen2(o.state.pipeHole1),o.slideForward5=o.slideAcrossScreen2(o.state.pipeHole2),o.slideForward6=o.slideAcrossScreen2(o.state.pipeHole3),o.slideForward7=o.slideAcrossScreen2(o.state.pipeHole4),o.slideForward8=o.slideAcrossScreen2(o.state.pipeHole5),o.slideForward9=o.slideAcrossScreen2(o.state.pipeHole6),o.slideForward10=o.slideAcrossScreen2(o.state.pipeHole7),o.slideForward11=o.slideAcrossScreen2(o.state.pipeHole8),o.slideForward12=o.slideAcrossScreen2(o.state.pipeHole9),o.slideForward13=o.slideAcrossScreen2(o.state.pipeHole10),o.slideForward14=o.slideAcrossScreen2(o.state.pipeHole11),o.slideForward15=o.slideAcrossScreen2(o.state.pipeHole12),o.teleport1=o.teleportBack(o.state.pipe1),o.teleport2=o.teleportBack(o.state.pipe2),o.teleport3=o.teleportBack(o.state.pipe3),o.teleport4=o.teleportBack(o.state.pipeHole1),o.teleport5=o.teleportBack(o.state.pipeHole2),o.teleport6=o.teleportBack(o.state.pipeHole3),o.teleport7=o.teleportBack(o.state.pipeHole4),o.teleport8=o.teleportBack(o.state.pipeHole5),o.teleport9=o.teleportBack(o.state.pipeHole6),o.teleport10=o.teleportBack(o.state.pipeHole7),o.teleport11=o.teleportBack(o.state.pipeHole8),o.teleport12=o.teleportBack(o.state.pipeHole9),o.teleport13=o.teleportBack(o.state.pipeHole10),o.teleport14=o.teleportBack(o.state.pipeHole11),o.teleport15=o.teleportBack(o.state.pipeHole12),o.teleport34=o.teleportBack2(o.state.pipeHole1),o.teleport35=o.teleportBack2(o.state.pipeHole2),o.teleport36=o.teleportBack2(o.state.pipeHole3),o.teleport37=o.teleportBack2(o.state.pipeHole4),o.teleport38=o.teleportBack2(o.state.pipeHole5),o.teleport39=o.teleportBack2(o.state.pipeHole6),o.teleport310=o.teleportBack2(o.state.pipeHole7),o.teleport311=o.teleportBack2(o.state.pipeHole8),o.teleport312=o.teleportBack2(o.state.pipeHole9),o.teleport313=o.teleportBack2(o.state.pipeHole10),o.teleport314=o.teleportBack2(o.state.pipeHole11),o.teleport315=o.teleportBack2(o.state.pipeHole12),o}return Object(l.a)(n,[{key:"slideAcrossScreen",value:function(e){return console.log("component"),console.log(e),T.a.timing(e,{toValue:{y:e.y._value,x:-200},duration:9e3,easing:H.a.in(H.a.linear),useNativeDriver:!0,isInteraction:!1})}},{key:"slideAcrossScreen2",value:function(e){return console.log("component"),console.log(e),T.a.timing(e,{toValue:{y:e.y._value,x:-205},duration:9e3,easing:H.a.in(H.a.linear),useNativeDriver:!0,isInteraction:!1})}},{key:"teleportBack",value:function(e){return console.log("component2"),console.log(e),T.a.timing(e,{toValue:{y:e.y._value,x:this.screen_width+20},duration:0,easing:H.a.in(H.a.linear),useNativeDriver:!0})}},{key:"teleportBack2",value:function(e){return console.log("component2"),console.log(e),T.a.timing(e,{toValue:{y:e.y._value,x:this.screen_width+15},duration:27e3,easing:H.a.in(H.a.linear),useNativeDriver:!0})}},{key:"moveBirdDown",value:function(){return T.a.timing(this.state.bird,{toValue:{y:this.screen_height-10,x:this.screen_width/4},duration:1e3,easing:H.a.in(H.a.quad),useNativeDriver:!0})}},{key:"moveBirdUp",value:function(e){return console.log(this.state.bird),T.a.timing(this.state.bird,{toValue:{y:e-150,x:this.screen_width/4},duration:500,easing:H.a.out(H.a.cubic),useNativeDriver:!0})}},{key:"componentDidMount",value:function(){console.log("component did mount"),this.initializeFreqFinder(),this.pipeAnimations=this.getPipeAnimations()}},{key:"componentWillUnmount",value:function(){console.log("unmounting"),j.a.freqfinder.stop()}},{key:"getPipeAnimations",value:function(){var e=3e3,t=9e3;return T.a.stagger(0,[T.a.stagger(9e3,[T.a.stagger(e,[T.a.loop(T.a.sequence([this.slideForward4,this.teleport4,this.teleport34])),T.a.loop(T.a.sequence([this.slideForward5,this.teleport5,this.teleport35])),T.a.loop(T.a.sequence([this.slideForward6,this.teleport6,this.teleport36]))]),T.a.stagger(e,[T.a.loop(T.a.sequence([this.slideForward7,this.teleport7,this.teleport37])),T.a.loop(T.a.sequence([this.slideForward8,this.teleport8,this.teleport38])),T.a.loop(T.a.sequence([this.slideForward9,this.teleport9,this.teleport39]))]),T.a.stagger(e,[T.a.loop(T.a.sequence([this.slideForward10,this.teleport10,this.teleport310])),T.a.loop(T.a.sequence([this.slideForward11,this.teleport11,this.teleport311])),T.a.loop(T.a.sequence([this.slideForward12,this.teleport12,this.teleport312]))]),T.a.stagger(e,[T.a.loop(T.a.sequence([this.slideForward13,this.teleport13,this.teleport313])),T.a.loop(T.a.sequence([this.slideForward14,this.teleport14,this.teleport314])),T.a.loop(T.a.sequence([this.slideForward15,this.teleport15,this.teleport315]))])]),T.a.stagger(3e3,[T.a.loop(T.a.stagger(t,[this.slideForward1,this.teleport1])),T.a.loop(T.a.stagger(t,[this.slideForward2,this.teleport2])),T.a.loop(T.a.stagger(t,[this.slideForward3,this.teleport3]))])])}},{key:"initializeFreqFinder",value:function(){j.a.freqfinder=new y,this.setControlsScheme(this.normalOperation),j.a.freqfinder.start(50)}},{key:"setControlsScheme",value:function(e){var t=this;j.a.freqfinder.action=function(n){if(n!==t.old_note){var o=t.state;"none"!==n&&e.bind(t)(),t.old_note=n,o.result=n,t.setState(o)}}}},{key:"normalOperation",value:function(){!1===this.started&&(this.pipeAnimations.start(),this.started=!0),this.moveBird&&this.moveBird.stop(),console.log(this.refs);var e=this.birdRef.getBoundingClientRect().y;console.log("coordinate"),console.log(e),this.moveBird=T.a.sequence([this.moveBirdUp(e),this.moveBirdDown()]),this.moveBird.start()}},{key:"render",value:function(){console.log("timing"),console.log(this.timing);var e={transform:this.state.pipe1.getTranslateTransform()},t={transform:this.state.pipe2.getTranslateTransform()},n={transform:this.state.pipe3.getTranslateTransform()},o={transform:this.state.pipeHole1.getTranslateTransform()},i={transform:this.state.pipeHole2.getTranslateTransform()},r={transform:this.state.pipeHole3.getTranslateTransform()},a={transform:this.state.pipeHole4.getTranslateTransform()},s={transform:this.state.pipeHole5.getTranslateTransform()},l={transform:this.state.pipeHole6.getTranslateTransform()},c={transform:this.state.pipeHole7.getTranslateTransform()},u={transform:this.state.pipeHole8.getTranslateTransform()},d={transform:this.state.pipeHole9.getTranslateTransform()},f={transform:this.state.pipeHole10.getTranslateTransform()},g={transform:this.state.pipeHole11.getTranslateTransform()},m={transform:this.state.pipeHole12.getTranslateTransform()},j={transform:this.state.bird.getTranslateTransform()};return console.log("slideStyle"),Object(O.jsxs)(p.a,{style:{flex:1},children:[Object(O.jsx)(h.a,{children:this.state.result}),Object(O.jsx)(T.a.View,{style:[e,F.border]}),Object(O.jsx)(T.a.View,{style:[t,F.border]}),Object(O.jsx)(T.a.View,{style:[n,F.border]}),Object(O.jsx)(T.a.View,{style:[o,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[i,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[r,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[a,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[s,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[l,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[c,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[u,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[d,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[f,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[g,F.holeStyle]}),Object(O.jsx)(T.a.View,{style:[m,F.holeStyle]}),Object(O.jsx)(T.a.Image,{source:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAYCAYAAACbU/80AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAARGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAACoAIABAAAAAEAAAAgoAMABAAAAAEAAAAYAAAAAPenBBoAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Chle4QcAAAEJSURBVEgNzZVNEsIgDIWh4xF05TEcF46ezYVn03HheAxX9QyiQ3k0yRCgG6EbyA827yON1ix/3MIjNpc/5IL/iGWrCwUwxW48Juuym5v3O8fSjbXxFXFDf6BrAl6KphgqNOWIY9VIdEWAXx5KD6tGQiMAxaWeaE5g9RM43bXoXgEgdrNGQubX2u0J1CrCXca7DfMA56M/kER+iUR7ArGLx9NU7PqaLvod4umokSSUNOr2vdecAJ3P2ck3k8r/F7wOe6qyuO+KAKpNTsTP84w4W4fdxdtQvr0/WLxk9EtAU6wpkiS0PPhBqksCKJL1QokICOBwxeq/wK4JSBGMiAwSm84W4k5vmxP4AvyHUjZI6xUQAAAAAElFTkSuQmCC",ImageResizeMode:"stretch",style:[j,{width:32,height:24,position:"absolute"}],ref:this.setBirdRef})]})}}],[{key:"componentDidUpdate",value:function(e){2===e.screenProps&&(j.a.freqfinder.stop(),this.initializeFreqFinder())}}]),n}(o.Component),V=n(93),q=n.n(V),I=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={result:"none",imageSrc:null},e._camera=null,e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initializeFreqFinder()}},{key:"componentWillUnmount",value:function(){console.log("unmounting"),j.a.freqfinder.stop()}},{key:"initializeFreqFinder",value:function(){var e=this;j.a.freqfinder=new y,j.a.freqfinder.action=function(t){var n=e.state;"none"!==e.old_note&&"none"===t&&(console.log("activated"),null!==e._camera?n.imageSrc=e._camera.getScreenshot():n.imageSrc=null),e.old_note=t,n.result=t,e.setState(n)},j.a.freqfinder.start(400)}},{key:"render",value:function(){var e=this;return null!==this.state.imageSrc?Object(O.jsxs)(p.a,{style:{flex:1},children:[Object(O.jsx)(h.a,{}),Object(O.jsx)(h.a,{children:this.state.result}),Object(O.jsx)("img",{style:{width:"auto",height:"90vh",objectFit:"contain"},src:this.state.imageSrc})]}):Object(O.jsxs)(p.a,{style:{flex:1},children:[Object(O.jsx)(h.a,{}),Object(O.jsx)(h.a,{children:this.state.result}),Object(O.jsx)(p.a,{style:{height:"90vh",width:"100%"},children:Object(O.jsx)(q.a,{videoConstraints:{facingMode:"user"},ref:function(t){e._camera=t}})})]})}}]),n}(o.Component);var M=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(a.d,{defaultIndex:0,onChange:function(e){console.log(e)},children:[Object(O.jsxs)(a.b,{children:[Object(O.jsx)(a.a,{children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),Object(O.jsx)(a.a,{children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M17.622 3c-1.913 0-2.558 1.382-5.623 1.382-3.009 0-3.746-1.382-5.623-1.382-5.209 0-6.376 10.375-6.376 14.348 0 2.145.817 3.652 2.469 3.652 3.458 0 2.926-5 6.915-5h5.23c3.989 0 3.457 5 6.915 5 1.652 0 2.471-1.506 2.471-3.651 0-3.973-1.169-14.349-6.378-14.349zm-10.622 10c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3zm10-6c.552 0 1 .447 1 1 0 .553-.448 1-1 1s-1-.447-1-1c0-.553.448-1 1-1zm-2 4c-.552 0-1-.447-1-1 0-.553.448-1 1-1s1 .447 1 1c0 .553-.448 1-1 1zm2 2c-.552 0-1-.447-1-1 0-.553.448-1 1-1s1 .447 1 1c0 .553-.448 1-1 1zm2-2c-.552 0-1-.447-1-1 0-.553.448-1 1-1s1 .447 1 1c0 .553-.448 1-1 1zm-10.25-1c0 .965-.785 1.75-1.75 1.75s-1.75-.785-1.75-1.75.785-1.75 1.75-1.75 1.75.785 1.75 1.75z"})})}),Object(O.jsx)(a.a,{children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M12 12.713l-11.985-9.713h23.97l-11.985 9.713zm0 2.574l-12-9.725v15.438h24v-15.438l-12 9.725z"})})}),Object(O.jsx)(a.a,{children:Object(O.jsx)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(O.jsx)("path",{d:"M23 12l-22 12v-24l22 12zm-21 10.315l18.912-10.315-18.912-10.315v20.63z"})})}),Object(O.jsx)(a.a,{children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M5 4h-3v-1h3v1zm8 6c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3zm11-5v17h-24v-17h5.93c.669 0 1.293-.334 1.664-.891l1.406-2.109h8l1.406 2.109c.371.557.995.891 1.664.891h3.93zm-19 4c0-.552-.447-1-1-1s-1 .448-1 1 .447 1 1 1 1-.448 1-1zm13 4c0-2.761-2.239-5-5-5s-5 2.239-5 5 2.239 5 5 5 5-2.239 5-5z"})})})]}),Object(O.jsx)(a.c,{children:Object(O.jsx)(B,{})}),Object(O.jsx)(a.c,{children:Object(O.jsx)(S,{})}),Object(O.jsx)(a.c,{children:Object(O.jsx)(C,{})}),Object(O.jsx)(a.c,{children:Object(O.jsx)(D,{})}),Object(O.jsx)(a.c,{children:Object(O.jsx)(I,{})})]})})};n(129),r.a.render(Object(O.jsx)(M,{}),document.getElementById("root"))},9:function(e,t){e.exports={github_profile:["swats117","prikevs"],primary_user:"swats117",session_password:"",github_api:"https://api.github.com/users/",tab_bar_height:50,token:"6be83e7d2eed97b1b2d334b2416c3445996d8c93",freqFinder:""}}},[[142,1,2]]]);
//# sourceMappingURL=main.b092c20e.chunk.js.map